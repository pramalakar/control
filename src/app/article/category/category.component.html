<!--Search Form-->
<div class="row">
  <div class="col-12">
    <div class="card card-border-color card-border-color-primary">
      <div data-toggle="collapse" data-target="#collapseOne2" aria-expanded="false" aria-controls="collapseOne2" class="card-header card-header-divider">
        <i class="icon mdi mdi-chevron-right"></i> Create category<span class="card-subtitle">Use below form to create category</span></div>
      <div id="collapseOne2" class="card-body">
        <form [formGroup]="form" (ngSubmit)="createCategory()">
          <div class="form-group row">
            <label for="search-title" class="col-12 col-sm-3 col-form-label text-sm-right">Name</label>
            <div class="col-12 col-sm-8 col-lg-6">
              <input formControlName="name" type="text" class="form-control" id="search-title">
            </div>
          </div>
          <div class="form-group row">
            <label for="inputTextarea3" class="col-12 col-sm-3 col-form-label text-sm-right">Content</label>
            <div class="col-12 col-sm-8 col-lg-6">
              <textarea formControlName="content"  id="inputTextarea3" class="form-control"></textarea>
            </div>
          </div>
          <div class="form-group row">
            <label for="file-1" class="col-12 col-sm-3 col-form-label text-sm-right">Banner</label>
            <div class="col-12 col-sm-6">
              <input id="file-1" type="file" (change)="onFileChange($event)" #fileInput name="file-1" data-multiple-caption="{count} files selected" multiple class="inputfile">
              <label for="file-1" class="btn-secondary"> <i class="mdi mdi-upload"></i><span>Browse files...					</span></label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-secondary">Create</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>


<!--Articles List-->
<div class="row">
  <div class="col-12">
    <div class="card card-table">
      <div class="card-header widget-head">
        <div class="button-toolbar d-none d-md-block">
          <div class="btn-group">
            <button type="button" (click)="status=1" [ngClass]="status==1 ? 'active' : ''" class="btn btn-secondary">Active</button>
            <button type="button" (click)="status=0" [ngClass]="status==0 ? 'active' : ''" class="btn btn-secondary">Inactive</button>
            <button type="button" (click)="status=2" [ngClass]="status==2 ? 'active' : ''" class="btn btn-secondary">Deleted</button>
          </div>
        </div>
        <div class="title">Categories</div>
      </div>
      <div class="card-body table-responsive">
        <table class="table table-striped table-borderless">
          <thead>
          <tr>
            <th style="width:5%;">ID</th>
            <th style="width:20%;">Name</th>
            <th style="width:40%;">Content</th>
            <th style="width:5%;">Banner</th>
            <th style="width:20%;">Action</th>
            <!--<th style="width:5%;">Created Date</th>-->
          </tr>
          </thead>
          <tbody class="no-border-x">
          <tr *ngFor="let category of categories; let i = index">
            <ng-container *ngIf="category.statusID == status">
              <td>{{category.id}}</td>
              <td>{{category.name}}</td>
              <td class="text-success">{{category.content}}</td>
              <td>{{category.banner ? 'Yes' : 'No'}}</td>
              <td class="actions">
                <div class="widget-head">
                  <div class="tools dropdown">
                    <a href="#" role="button" data-toggle="dropdown" class="dropdown-toggle">
                    <span class="icon mdi mdi-more-vert"></span></a>
                    <div role="menu" class="dropdown-menu float-right">
                      <a *ngIf="category.statusID !== 2" (click)="inactiveCategory(i, category.id)" class="dropdown-item">{{category.statusID == 0 ? "Publish" : "Unpublish"}}</a>
                      <a *ngIf="category.statusID !== 2" (click)="openUpdateForm(i)" data-toggle="collapse" data-target="#collapseOne2" aria-expanded="false" aria-controls="collapseOne2" class="dropdown-item">Edit</a>
                      <div class="dropdown-divider"></div><a (click)="category.statusID == 2 ? restoreCategory(i, category.id) : deleteCategory(i, category.id)" class="dropdown-item">{{category.statusID == 2 ? "Restore" : "Delete"}}</a>
                    </div>
                  </div>
                  <!--<div class="tools">-->
                    <!--<span (click)="inactiveCategory(i, category.id)" class="icon mdi mdi-eye"></span>-->
                    <!--<span (click)="openUpdateForm(i)" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" class="icon mdi mdi-edit"></span>-->
                    <!--<span (click)="deleteCategory(i, category.id)" class="icon mdi mdi-close"></span>-->
                  <!--</div>-->
                </div>
              </td>
              <!--<td class="text-success">{{category.date}}</td>-->
            </ng-container>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

